(()=>{"use strict";class t{constructor(t){this.position=t}}const r={PERFECT_CUBE:new t([-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1]),RECTANGLE:new t([-1,0,1,-.5,0,1,-.5,1,1,-1,1,1,-1,0,-1,-1,1,-1,-.5,1,-1,-.5,0,-1,-1,1,-1,-1,1,1,-.5,1,1,-.5,1,-1,-1,0,-1,-.5,0,-1,-.5,0,1,-1,0,1,-.5,0,-1,-.5,1,-1,-.5,1,1,-.5,0,1,-1,0,-1,-1,0,1,-1,1,1,-1,1,-1]),ALMOST_PYRAMID:new t([-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,-1,-1,-1,1,-1,-1,0,1,0,1,-1,-1,1,-1,1,0,1,0,1,-1,1,-1,-1,1,0,1,0,-1,-1,1,-1,-1,-1,0,1,0]),BERRY:new t([-1,-2,2,1,-1,2,2,1,1,-3,1,0,-2,0,1,-1,0,1,-1,2,1,-2,2,1,-2,2,-1,-2,2,1,-1,2,1,-1,2,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1]),JERRY:new t([-1,-1,-1,1,-1,-1,0,1,0,1,-1,-1,1,-1,1,0,1,0,1,-1,1,-1,-1,1,0,1,0,-1,-1,1,-1,-1,-1,0,1,0]),TERRY:new t([-2,0,1,-1,0,1,-1,2,1,-2,2,1,-2,0,-1,-2,2,-1,-1,2,-1,-1,0,-1,-2,2,-1,-2,2,1,-1,2,1,-1,2,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,3,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1])};class e{constructor(t,r){this.projectionMatrix=t.getUniformLocation(r,"uProjectionMatrix"),this.modelViewMatrix=t.getUniformLocation(r,"uModelViewMatrix")}}class o{constructor(t,r){this.vertexPosition=t.getAttribLocation(r,"aVertexPosition"),this.vertexColor=t.getAttribLocation(r,"aVertexColor")}}class n{constructor(t,r){this.program=r,this.attributeLocations=new o(t,r),this.uniformLocations=new e(t,r)}}class i{constructor(t,r,e){this.positionBuffer=t,this.colorBuffer=r,this.indexBuffer=e}}var a="undefined"!=typeof Float32Array?Float32Array:Array;function c(){var t=new a(16);return a!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function u(t,r,e,o){var n,i,a,c,u,s,l,f,A,R,h,E,d,F,m,B,v,M,_,g,x,T,b,L,P=o[0],w=o[1],C=o[2],p=Math.hypot(P,w,C);return p<1e-6?null:(P*=p=1/p,w*=p,C*=p,n=Math.sin(e),a=1-(i=Math.cos(e)),c=r[0],u=r[1],s=r[2],l=r[3],f=r[4],A=r[5],R=r[6],h=r[7],E=r[8],d=r[9],F=r[10],m=r[11],B=P*P*a+i,v=w*P*a+C*n,M=C*P*a-w*n,_=P*w*a-C*n,g=w*w*a+i,x=C*w*a+P*n,T=P*C*a+w*n,b=w*C*a-P*n,L=C*C*a+i,t[0]=c*B+f*v+E*M,t[1]=u*B+A*v+d*M,t[2]=s*B+R*v+F*M,t[3]=l*B+h*v+m*M,t[4]=c*_+f*g+E*x,t[5]=u*_+A*g+d*x,t[6]=s*_+R*g+F*x,t[7]=l*_+h*g+m*x,t[8]=c*T+f*b+E*L,t[9]=u*T+A*b+d*L,t[10]=s*T+R*b+F*L,t[11]=l*T+h*b+m*L,r!==t&&(t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t)}Math.random,Math.PI,Math.hypot||(Math.hypot=function(){for(var t=0,r=arguments.length;r--;)t+=arguments[r]*arguments[r];return Math.sqrt(t)});alert("Script is working");let s=0,l=0;function f(t,r,e){const o=t.createShader(r);return t.shaderSource(o,e),t.compileShader(o),t.getShaderParameter(o,t.COMPILE_STATUS)?o:(alert("An error occurred compiling the shaders: "+t.getShaderInfoLog(o)),t.deleteShader(o),null)}!function(){const t=document.getElementById("glcanvas"),e=t.getContext("webgl");if(null===e)return void alert("Unable to initialize WebGL. Your browser or machine may not support it.");e.clearColor(0,0,0,1),e.clearDepth(e.COLOR_BUFFER_BIT);const o=function(t,r,e){const o=f(t,t.VERTEX_SHADER,"\n    attribute vec4 aVertexPosition;\n    attribute vec4 aVertexColor;\n\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    varying lowp vec4 vColor;\n\n    void main(void) {\n      gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;\n      vColor = aVertexColor;\n    }\n  "),n=f(t,t.FRAGMENT_SHADER,"\n    varying lowp vec4 vColor;\n\n    void main(void) {\n      gl_FragColor = vColor;\n    }\n  "),i=t.createProgram();return t.attachShader(i,o),t.attachShader(i,n),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)?i:(alert("Unable to initialize the shader program: "+t.getProgramInfoLog(i)),null)}(e),a=new n(e,o),A=function(t,r){const e=function(t,r){const e=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,e),t.bufferData(t.ARRAY_BUFFER,new Float32Array(r),t.STATIC_DRAW),e}(t,r),o=function(t){const r=[1,1,1,1,1,0,0,1,0,1,0,1,0,0,1,1,1,1,0,1,1,0,1,1];let e=[];for(const t of r)e=e.concat(t,t,t,t);const o=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,o),t.bufferData(t.ARRAY_BUFFER,new Float32Array(e),t.STATIC_DRAW),o}(t),n=function(t){const r=t.createBuffer();return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,r),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]),t.STATIC_DRAW),r}(t);return new i(e,o,n)}(e,r.PERFECT_CUBE.position);let R=0;requestAnimationFrame((function r(o){l=(o*=.001)-R,R=o,function(t,r,e,o,n,i){t.clearColor(0,0,0,1),t.clearDepth(1),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT);const a=45*Math.PI/180,s=n/i,l=c();!function(t,r,e,o,n){var i,a=1/Math.tan(r/2);t[0]=a/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=n&&n!==1/0?(i=1/(o-n),t[10]=(n+o)*i,t[14]=2*n*o*i):(t[10]=-1,t[14]=-2*o)}(l,a,s,.1,100);const f=c();var A,R,h,E,d,F,m,B,v,M,_,g,x,T,b,L,P,w;L=(h=[-0,0,-6])[0],P=h[1],w=h[2],(R=f)===(A=f)?(A[12]=R[0]*L+R[4]*P+R[8]*w+R[12],A[13]=R[1]*L+R[5]*P+R[9]*w+R[13],A[14]=R[2]*L+R[6]*P+R[10]*w+R[14],A[15]=R[3]*L+R[7]*P+R[11]*w+R[15]):(E=R[0],d=R[1],F=R[2],m=R[3],B=R[4],v=R[5],M=R[6],_=R[7],g=R[8],x=R[9],T=R[10],b=R[11],A[0]=E,A[1]=d,A[2]=F,A[3]=m,A[4]=B,A[5]=v,A[6]=M,A[7]=_,A[8]=g,A[9]=x,A[10]=T,A[11]=b,A[12]=E*L+B*P+g*w+R[12],A[13]=d*L+v*P+x*w+R[13],A[14]=F*L+M*P+T*w+R[14],A[15]=m*L+_*P+b*w+R[15]),u(f,f,o,[0,0,1]),u(f,f,.7*o,[0,1,0]),u(f,f,.3*o,[1,0,0]),function(t,r,e){const o=t.FLOAT;t.bindBuffer(t.ARRAY_BUFFER,r.positionBuffer),t.vertexAttribPointer(e.attributeLocations.vertexPosition,3,o,!1,0,0),t.enableVertexAttribArray(e.attributeLocations.vertexPosition)}(t,e,r),function(t,r,e){const o=t.FLOAT;t.bindBuffer(t.ARRAY_BUFFER,r.colorBuffer),t.vertexAttribPointer(e.attributeLocations.vertexColor,4,o,!1,0,0),t.enableVertexAttribArray(e.attributeLocations.vertexColor)}(t,e,r),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.indexBuffer),t.useProgram(r.program),t.uniformMatrix4fv(r.uniformLocations.projectionMatrix,!1,l),t.uniformMatrix4fv(r.uniformLocations.modelViewMatrix,!1,f);{const r=36,e=t.UNSIGNED_SHORT,o=0;t.drawElements(t.TRIANGLES,r,e,o)}}(e,a,A,s,t.width,t.height),s+=l,requestAnimationFrame(r)}))}()})();